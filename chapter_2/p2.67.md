# The Original Code

```
/* The following code does not run properly on some machines */
int bad_int_size_is_32() {
/* Set most significant bit (msb) of 32-bit machine */
int set_msb = 1 << 31;
/* Shift past msb of 32-bit word */
int beyond_msb = 1 << 32;

/* set_msb is nonzero when word size >= 32
beyond_msb is zero when word size <= 32 */
return set_msb && !beyond_msb;
}
```

# Question A: In what way does our code fail to comply with the C standard?

It is impossible to left shift 32 bits on a 32-bit machine, since it will cause **Undefined Behavior (UB)**.

# Question B: Modify the code to run properly on any machine for which data type int is at least 32 bits.

Modify `int beyond_msb = 1 << 32;` to `int beyond_msb = 2 << 31;` is the most efficient way to ensure this code can be run properly on any machine that has at least 32 bits.

# Question C: Modify the code to run properly on any machine for which data type int is at least 16 bits.

```
int good_int_size_is_32() {
/* Set most significant bit (msb) of 32-bit machine */
int set_msb = ((1 << 15) << 15) <<1;
/* Shift past msb of 32-bit word */
int beyond_msb = set_msb << 1;

/* set_msb is nonzero when word size >= 32
beyond_msb is zero when word size <= 32 */
return set_msb && !beyond_msb;
}
```
